<Window x:Class="EasySave.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:EasySave"
        mc:Ignorable="d"
        Title="EasySave" Height="500" Width="900">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Liste des backups -->
        <DataGrid Grid.Row="0"
                  ItemsSource="{Binding Backups}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="0,0,0,10">

            <DataGrid.Columns>
                <DataGridCheckBoxColumn Header="Sélection"
                                        Binding="{Binding IsSelected}" />
                <DataGridTextColumn Header="Id"
                                    Binding="{Binding Id}" />
                <DataGridTextColumn Header="Nom"
                                    Binding="{Binding Name}" />
                <DataGridTextColumn Header="Source"
                                    Binding="{Binding SourceFilePath}" />
                <DataGridTextColumn Header="Destination"
                                    Binding="{Binding DestinationFilePath}" />
                <DataGridTextColumn Header="Dernière sauvegarde"
                                    Binding="{Binding LastBackupDateTime}" />
                <DataGridTextColumn Header="Type"
                                    Binding="{Binding Type}" />
            </DataGrid.Columns>
        </DataGrid>

        <!-- Formulaire création backup -->
        <Grid Grid.Row="1" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Nom -->
            <StackPanel Grid.Column="0" Margin="5">
                <TextBlock Text="Nom" />
                <TextBox Text="{Binding BackupCreateRequest.Name, Mode=TwoWay}" />
            </StackPanel>

            <!-- Source -->
            <StackPanel Grid.Column="1" Margin="5">
                <TextBlock Text="Source" />
                <TextBox Text="{Binding BackupCreateRequest.SourceFilePath, Mode=TwoWay}" />
            </StackPanel>

            <!-- Destination -->
            <StackPanel Grid.Column="2" Margin="5">
                <TextBlock Text="Destination" />
                <TextBox Text="{Binding BackupCreateRequest.DestinationFilePath, Mode=TwoWay}" />
            </StackPanel>

            <!-- Type -->
            <StackPanel Grid.Column="3" Margin="5">
                <TextBlock Text="Type" />
                <ComboBox ItemsSource="{Binding BackupTypes}"
                          SelectedItem="{Binding BackupCreateRequest.Type, Mode=TwoWay}" />
            </StackPanel>

            <!-- Bouton créer -->
            <Button Grid.Column="4"
                    Content="Créer une backup"
                    Margin="5"
                    Width="150"
                    Command="{Binding CreateBackupCommand}" />

            <!-- Bouton exécuter -->
            <Button Grid.Column="5"
                    Content="Exécuter les backups sélectionnés"
                    Margin="5"
                    Width="250"
                    Command="{Binding ExecuteBackupsCommand}" />
        </Grid>
    </Grid>
</Window>
