<Window x:Class="EasySave.View.Dialog.CreateWorkDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:EasySave.View.Dialog"
        mc:Ignorable="d"
        Title="CreateWorkDialog" Height="450" Width="800">
    
        <Border CornerRadius="10"
            Background="{DynamicResource BackgroundBrush}"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1">
		<Grid>
			<Grid.RowDefinitions>
				<!-- Drag area -->
				<RowDefinition Height="44"/>
				<!-- Content -->
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<!-- Dialog title bar -->
			<Border Grid.Row="0"
                    Background="{DynamicResource NavbarBackgroundBrush}"
                    CornerRadius="10,10,0,0"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
				<Grid Margin="16,0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="Auto"/>
					</Grid.ColumnDefinitions>

					<StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
						<Ellipse Width="8" Height="8" Margin="0,0,8,0">
							<Ellipse.Fill>
								<SolidColorBrush Color="#34D399"/>
							</Ellipse.Fill>
						</Ellipse>
						<TextBlock x:Name="TitleText" Text="Nouveau travail"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="13" FontWeight="SemiBold"
                                   Foreground="{DynamicResource ForegroundBrush}"
                                   VerticalAlignment="Center"/>
					</StackPanel>

					<Button Grid.Column="1" Content="&#x2715;"
                            Click="Cancel_Click"
                            Width="28" Height="24" Padding="0"
                            FontSize="10" BorderThickness="0"
                            Background="Transparent"
                            Foreground="{DynamicResource ForegroundSecondaryBrush}"/>
				</Grid>
			</Border>

			<!-- Form content -->
			<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Disabled">
				<StackPanel Margin="24,20">

					<!-- Work Name -->
					<StackPanel Margin="0,0,0,18">
						<TextBlock x:Name="WorkNameLabel" Text="Nom du travail"
                                   Margin="0,0,0,6"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="12" FontWeight="Medium"
                                   Foreground="{DynamicResource ForegroundBrush}"/>
						<TextBox x:Name="WorkNameTextBox" MinHeight="36"
                                 VerticalContentAlignment="Center"
                                 TextChanged="OnFieldChanged"/>
						<TextBlock x:Name="WorkNameError" 
                                   Margin="0,4,0,0"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="11"
                                   Foreground="{DynamicResource ErrorBrush}"
                                   Visibility="Collapsed"/>
					</StackPanel>

					<!-- Source Path -->
					<StackPanel Margin="0,0,0,18">
						<TextBlock x:Name="SourcePathLabel" Text="Chemin source"
                                   Margin="0,0,0,6"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="12" FontWeight="Medium"
                                   Foreground="{DynamicResource ForegroundBrush}"/>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*"/>
								<ColumnDefinition Width="Auto"/>
							</Grid.ColumnDefinitions>
							<TextBox x:Name="SourcePathTextBox" Grid.Column="0" MinHeight="36"
                                     Margin="0,0,8,0" VerticalContentAlignment="Center"
                                     TextChanged="OnFieldChanged"/>
							<Button x:Name="BrowseSourceButton" Grid.Column="1" Content="Parcourir"
                                    MinWidth="90" Height="36" Click="BrowseSource_Click"
                                    Padding="12,0"/>
						</Grid>
						<TextBlock x:Name="SourcePathError" 
                                   Margin="0,4,0,0"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="11"
                                   Foreground="{DynamicResource ErrorBrush}"
                                   Visibility="Collapsed"/>
					</StackPanel>

					<!-- Destination Path -->
					<StackPanel Margin="0,0,0,18">
						<TextBlock x:Name="DestinationPathLabel" Text="Chemin destination"
                                   Margin="0,0,0,6"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="12" FontWeight="Medium"
                                   Foreground="{DynamicResource ForegroundBrush}"/>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*"/>
								<ColumnDefinition Width="Auto"/>
							</Grid.ColumnDefinitions>
							<TextBox x:Name="DestinationPathTextBox" Grid.Column="0" MinHeight="36"
                                     Margin="0,0,8,0" VerticalContentAlignment="Center"
                                     TextChanged="OnFieldChanged"/>
							<Button x:Name="BrowseDestinationButton" Grid.Column="1" Content="Parcourir"
                                    MinWidth="90" Height="36" Click="BrowseDestination_Click"
                                    Padding="12,0"/>
						</Grid>
						<TextBlock x:Name="DestinationPathError" 
                                   Margin="0,4,0,0"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="11"
                                   Foreground="{DynamicResource ErrorBrush}"
                                   Visibility="Collapsed"/>
					</StackPanel>

					<!-- Save Type -->
					<StackPanel Margin="0,0,0,24">
						<TextBlock x:Name="SaveTypeLabel" Text="Type de sauvegarde"
                                   Margin="0,0,0,6"
                                   FontFamily="{StaticResource AppFont}"
                                   FontSize="12" FontWeight="Medium"
                                   Foreground="{DynamicResource ForegroundBrush}"/>
						<ComboBox x:Name="SaveTypeComboBox" MinHeight="36"
                                  VerticalContentAlignment="Center">
							<ComboBoxItem x:Name="CompleteItem" Content="Complete" IsSelected="True"/>
							<ComboBoxItem x:Name="IncrementalItem" Content="Incrementale"/>
						</ComboBox>
					</StackPanel>

					<!-- Separator -->
					<Border Height="1" Margin="0,0,0,20"
                            Background="{DynamicResource BorderSubtleBrush}"/>

					<!-- Action buttons -->
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="Auto"/>
							<ColumnDefinition Width="Auto"/>
						</Grid.ColumnDefinitions>

						<Button x:Name="CancelButton" Grid.Column="1" Content="Annuler"
                                MinWidth="100" Height="38" Margin="0,0,8,0"
                                Click="Cancel_Click" Padding="16,0"/>
						<Button x:Name="CreateButton" Grid.Column="2" Content="Creer"
                                MinWidth="120" Height="38"
                                Click="Create_Click" Padding="16,0"
                                Style="{StaticResource PrimaryButton}"/>
					</Grid>
				</StackPanel>
			</ScrollViewer>
		</Grid>
	</Border>
</Window>
